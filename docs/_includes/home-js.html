<script type="text/javascript">
  ;;(function () {
      "use strict"
      window.splashScreenCallback = function () {
        // Setup social
        $('#share').jsSocials({
          shares: ['facebook', 'twitter', 'linkedin', 'googleplus', 'email'],
          url: 'http://www.stanleyidesis.com/random-okr-generator',
          showLabel: false,
          showCount: false,
          shareIn: 'popup'
        })
        
        var runOnce = true
        // Handle gen click
        $('form').on('submit', function(event) {
          event.preventDefault()
          if (runOnce) {
            $('#okr-gen-hint').fadeOut()
          }
          // Disable button temporarily
          var button = $('#okr-button-submit')
          button.prop('disabled', true)
          
          // Show the spinner
          $('div.okr-button-loader').addClass('okr-button-loader-loading')
          
          generateOKR(function(okr, shareText) {
            $('#share').removeClass('okr-hidden')
            button.prop('disabled', false)
            $('div.okr-button-loader').removeClass('okr-button-loader-loading')
            $('#okr-gen-result').text(okr)
            $('#share').jsSocials('option', 'text', shareText)
          })
        })
      }
    })()
</script>
